entrypoint: localization2d

model_params:
  arch: ResNetLocalizer2d
  name: ResNetLocalizer2d
  pooling: max
  hidden_dims: [128, 128, 64, 64, 32, 32]
  #hidden_dims: [4, 4, 4, 4, 4]
  
exp_params:
  warmup_steps: 256
  #save_weights:
  #  every_n_steps: 10_000
  #  delete_old: true
  #  local: {}
  #  s3:
  #    endpoint: https://nyc3.digitaloceanspaces.com
  #    bucket: deeplesion
  loss_params:
    objective: mse
  batch_size: 4
  optimizer:
    lr: 0.00005
    weight_decay: 0.00001
  save_weights_every_n_steps: 10_000
  data:
    name: deeplesion
    split: 0.7
    flatten_labels: true
    loader:
      num_workers: 0
      drop_last: true
    training:
      root: /data/deeplesion
      #root: E:/deeplesion
      components:
        - bounding_boxes
  visdom:
    host: https://visdom.foldy.dev
    port: 80
    env: deeplesion
  plot:
    fn: localize_lesions
    sample_every_n_steps: 10_000
    batch_size: 8
    params: {}
  
trainer_params:
  max_epochs: 5
  log_every_n_steps: 20
  check_val_every_n_epoch: 1

logging_params:
  name: "DeepLesion_Basic"
